import { Meta, Story, Canvas } from '@storybook/addon-docs'
import { Checkbox } from '../input/input'

export const CheckboxTemplate = ({ ...props }) => <Checkbox {...props} />

<Meta title="Components/Checkbox" component={Checkbox} />

# Checkbox

<Canvas>
  <Story
    name="Default"
    parameters={{
      componentIds: ['component-checkbox']
    }}
    args={{ label: 'Checkbox input', defaultChecked: false, onChange: (event) => {console.log(event)} }}>
    {CheckboxTemplate.bind({})}
  </Story>
</Canvas>

## Default Checked

You can set a `defaultChecked` state for the component when it renders. Then use `onChange` to update the state for your checkbox.

<Canvas>
  <Story
    name="DefaultChecked"
    parameters={{
      componentIds: ['component-checkbox']
    }}
    args={{ label: 'Checkbox input', defaultChecked: true, onChange: (event) => {console.log(event)} }}>
    {CheckboxTemplate.bind({})}
  </Story>
</Canvas>

## States and variants checkbox

<Canvas>
  <form>
    <Checkbox label="Normal unchecked" />
    <Checkbox label="Normal checked" defaultChecked />
    <Checkbox label="Invalid unchecked" validator={{
             indicator: 'error',
             message: 'Invalid'
           }} />
    <Checkbox label="Invalid checked" validator={{
             indicator: 'error',
             message: 'Invalid'
           }} defaultChecked />
  </form>
</Canvas>

## Validation

<Canvas>
  <Story name="invalid"
         args={{
           label: 'Invalid',
           validator: {
             indicator: 'error',
             message: 'Error'
           }
         }}
  >
    {CheckboxTemplate.bind({})}
  </Story>
</Canvas>

## Props

| Prop              | Type                                                    | Description                                                                       |
| :---------------- | :------------------------------------------------------ | :-------------------------------------------------------------------------------- |
| label             | `string`                                                | The label of the checkbox                                                         |
| defaultChecked?   | `boolean`                                               | The state of the component when it renders first time                             |
| onChange?         | `(e: React.FormEvent<HTMLInputElement>) => void`        | A handler function that takes the event and can act on it                         |
| validator?        | `IValidator`                                            | An object used to render the validation status for the component                  |
| testId?           | `string`                                                | A test id that will be placed in the `data-testid` attribute on the input element |



