import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs'
import { Input } from './input'

export const InputTemplate = ({ ...props }) => <Input {...props} />

<Meta title="Components/Form/Input" component={Input} />

# Input

## Input without FormItem

If an input is requested without a label, info or expandable info, then a pure input is rendered. Can be used together with the Group component.

<Canvas>
  <Story
    name="Input"
    parameters={{ componentIds: ['component-input'] }}
    args={{}}
  >
    {InputTemplate.bind({})}
  </Story>
</Canvas>

## Input with FormItem

As soon as one of the properties label, info or expandable info are set, the input will be be surrounded by a FormItem.

### Label Information

<Canvas>
  <Input label="Input" info="Label Information" />
</Canvas>

### Disabled

<Canvas>
  <Input label="Input" disabled />
</Canvas>

### Expandable Information

<Canvas>
  <Input label="Input" expandableInfo="Expandable Information" />
</Canvas>

### Right label

<Canvas>
  <Input label="Input" unit="kr" />
</Canvas>

### Formatter
Note that formatting is a bit complicated and requires more from the developer. 
MaxLength and type props might not work any more and might be needed to be implemented manually in the formatter instead.
The following example is not error free, more an example of what is possible.

<Canvas>
  <Input label="Input" info='Formats input as swedish number' maxLength={8} formatter={(value) => {
    const trimmedValue = value.replace('\u00A0', '').replace('\xa0', '')
    return !trimmedValue || isNaN(Number(trimmedValue)) ? value : new Intl.NumberFormat('sv-SE').format(Number(trimmedValue))
  }} />
</Canvas>

### Validation

<Canvas>
  <div>
    <Input
      label="Error input"
      validator={{
        indicator: 'error',
        message: 'Error message',
      }}
    />
    <Input
      label="Info input"
      validator={{
        indicator: 'info',
        message: 'Info message',
      }}
    />
    <Input
      label="Success input"
      validator={{
        indicator: 'success',
        message: 'Success message',
      }}
    />
  </div>
</Canvas>

### Everything On

<Canvas>
  <Input
    label="Input"
    expandableInfo="Expandable Information"
    info="Label information"
    maxLength={1000}
    rows={4}
    validator={{
      indicator: 'error',
      message: 'Error message',
    }}
    placeholder="Placeholder"
    disabled
    unit="kr"
  />
</Canvas>

## Properties

<ArgsTable of={Input} />
